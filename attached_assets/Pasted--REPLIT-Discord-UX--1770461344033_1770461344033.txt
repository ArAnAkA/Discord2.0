СОЗДАЙ ПРОЕКТ С НУЛЯ В REPLIT: реалтайм чат-приложение в стиле Discord (по UX/структуре), но с другими, не менее красивыми современными цветами. Стек: MERN (MongoDB, Express, React, Node.js) + Socket.IO + JWT. Сделай так, чтобы я нажал Run и всё запустилось. Пиши интерфейс и комментарии на русском. Не пиши объяснений — только команды и код по файлам.

0) Важно про Replit / Mongo

Используй MONGODB_URI из Secrets для MongoDB Atlas.

Если MONGODB_URI не задан, приложение не должно падать: включай in-memory режим (Map/объекты) и всё должно работать в демо.

Secrets: JWT_SECRET, MONGODB_URI (опц.), CLIENT_URL (опц.).

1) Структура монорепо

Сделай:

/server — Express + Socket.IO + JWT + multer + (mongoose или in-memory)

/client — Vite + React + Tailwind + socket.io-client + react-router-dom + zustand (или redux toolkit, но лучше zustand)

корневой package.json с concurrently для запуска server+client одной командой.

2) “Discord-like” UX (обязательная компоновка)

Сделай 3 колонки как в Discord:

Слева узкая панель “сервера” (иконки/кружки) — это будет список “пространств” (можно мок/один сервер) + кнопка создать.

Далее список каналов/групп/DM (channel list) с секциями:

Каналы (# general, # random…)

Группы

Личные сообщения

Поиск/фильтр вверху

Центр — чат: сообщения, ввод, attachments.

Справа — участники/инфо (members list) с online/offline.

Mobile:

Свайп/кнопка для открытия списков (Sheet/Drawer).

Чат на весь экран.

3) Дизайн: как Discord, но другая премиум-палитра (ОБЯЗАТЕЛЬНО)

Сделай тему “Aurora” (не Discord-цвета, но похожая контрастность и читабельность).

Токены (используй CSS variables + Tailwind extension):

Background (dark): глубокий тёмно-сине-зелёный/нефритовый

Surface: темнее/светлее на 1–2 шага

Border: тонкий, едва заметный

Text: высокий контраст, мягкий белый

Accent: бирюзово-циановый + индиго (градиентный акцент)

Success: мягкий зелёный

Warning: янтарный

Danger: розово-красный

UI-правила:

Скругления 14–20px (не слишком “пузырьково”, но современно)

Тени очень мягкие, больше на hover

Списки: hover-подсветка строки, активный элемент выделяется accent bar

Ввод сообщений: “плавающий” input, аккуратная панель вложений

Кнопки: primary/secondary/ghost, focus-visible ring

Добавь лёгкую “aurora” подсветку фона (градиент + noise через CSS) — без перегруза

Реально красивая тёмная тема — по умолчанию dark, но сделай toggle light тоже

4) Реалтайм функциональность (обязательная)
Auth

Регистрация/логин: email, пароль, имя

bcrypt hash

JWT

GET /api/me защищённый

Чаты

Chat types: channel, group, dm

Создание канала/группы

DM: старт диалога с пользователем

История сообщений: пагинация 30

Socket.IO события

message:send -> message:new

typing:start, typing:stop

presence:update (online/offline)

Пользователь считается online при активном сокете

Файлы

Upload через multer в /server/uploads (лимит 10MB)

POST /api/upload защищённый

Сообщение может содержать fileUrl, fileName, fileType, fileSize

В UI: предпросмотр изображений + карточка документа со скачиванием

5) Клиент: состояние и UI-kit

Сделай:

zustand store: auth, chats, currentChat, messages, typing, presence

optimistic messages

skeleton loaders

toast уведомления

ui компоненты в src/components/ui/:

Button, Card/Panel, Input, Badge, Avatar, Skeleton, Sheet/Drawer, Modal, Toast, ThemeToggle

Утилита cn().

6) Сервер: Mongo + in-memory repository

Если есть MONGODB_URI:

mongoose models:

User {email, passwordHash, name, avatarUrl, lastSeen}

Chat {type, title, members[], createdBy}

Message {chatId, senderId, text, fileMeta, createdAt}
Если нет:

InMemoryRepo с тем же API (repository pattern), чтобы маршруты не дублировались.

7) Обязательные экраны

/login /register

/app (основной чат)
Внутри /app:

ServerRail (левая полоса)

ChannelList

ChatView

MemberList

8) Качество

Всё запускается без ошибок

CORS настроен корректно

Везде хорошие состояния: пусто/ошибка/загрузка

Доступность: aria, focus-visible

README с инструкцией и Secrets

9) Формат ответа

Не объясняй.

Выводи команды и полный код всех файлов.

Если нужен мой ввод (например CLIENT_URL реального replit домена) — задай вопросы одним списком и остановись.

Начинай: создай структуру, зависимости, настройки Tailwind + токены “Aurora”, затем реалтайм чат с мок-данными, затем подключи сервер и Socket.IO, затем файлы и присутствие.